(function(a){if(a.jQTouch){var i=a("script").last().attr("src").split("?")[0].split("/").slice(0,-1).join("/")+"/";a.jQTouch.addExtension(function(d){function k(c,b){var e=a(c);e.attr("title")===b?(c.disabled=!1,e.removeAttr("disabled")):(c.disabled=!0,e.attr("disabled",!0))}function l(a,b){f||(f=b);k(a,f)}function m(c){f=c;a(b.themeStyleSelector).each(function(a,b){k(b,c)})}var f,h={},b=a.extend({},{themeStyleSelector:'link[rel="stylesheet"][title]',themeIncluded:[{title:"jQTouch",href:i+"../themes/css/jqtouch.css"},
{title:"Apple",href:i+"../themes/css/apple.css"},{title:"Vanilla",href:i+"../themes/css/vanilla.css"}]},d.settings);a(b.themeStyleSelector).each(function(b,d){var e=a(d).attr("title");h[e]=!0;l(d,e)});for(var j=0;j<b.themeIncluded.length;j++){var g=b.themeIncluded[j];g.title in h||(d=a('<link title="'+g.title+'" href="'+g.href+'" rel="stylesheet">'),a("head").append(a(d)),h[g.title]=!0,l(d,g.title))}if(b.themeSelectionSelector){for(var n in h)d=a('<li><a href="#" data-title="'+n+'">'+n+"</a></li>"),
a(b.themeSelectionSelector).append(d);a(b.themeSelectionSelector).delegate("* > a","tap",function(c){c.preventDefault();c.stopPropagation();c=a(this).closest("a");c.removeClass("active");m(c.attr("data-title"));a(b.themeSelectionSelector).find("a").removeClass("selected");c.addClass("selected")});a(b.themeSelectionSelector).closest("#jqt > *").bind("pageAnimationEnd",function(c,d){"in"===d.direction&&a(b.themeSelectionSelector).find('a[data-title="'+f+'"]').addClass("selected")})}return{switchStyle:m}})}})($);
