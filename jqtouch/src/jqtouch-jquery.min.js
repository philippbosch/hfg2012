(function(e){function k(a,c,b,d){var e=Math.abs(a-c),f=Math.abs(b-d);return e>=f?0<a-c?"Left":"Right":0<b-d?"Up":"Down"}function l(){c=null;a.last&&(a.el.trigger("longTap"),a={})}function j(){d&&clearTimeout(d);f&&clearTimeout(f);h&&clearTimeout(h);c&&clearTimeout(c);d=f=h=c=null;a={}}var a={},d,f,h,c;e(document).ready(function(){var g,i;e(document.body).bind("touchstart",function(b){b=b.originalEvent||b;g=Date.now();i=g-(a.last||g);a.el=e("tagName"in b.touches[0].target?b.touches[0].target:b.touches[0].target.parentNode);
d&&clearTimeout(d);a.x1=b.touches[0].pageX;a.y1=b.touches[0].pageY;if(0<i&&250>=i)a.isDoubleTap=!0;a.last=g;c=setTimeout(l,750)}).bind("touchmove",function(b){b=b.originalEvent||b;c&&clearTimeout(c);c=null;a.x2=b.touches[0].pageX;a.y2=b.touches[0].pageY}).bind("touchend",function(){c&&clearTimeout(c);c=null;a.x2&&30<Math.abs(a.x1-a.x2)||a.y2&&30<Math.abs(a.y1-a.y2)?h=setTimeout(function(){a.el.trigger("swipe");a.el.trigger("swipe"+k(a.x1,a.x2,a.y1,a.y2));a={}},0):"last"in a&&(f=setTimeout(function(){var b=
e.Event("tap");b.cancelTouch=j;a.el.trigger(b);a.isDoubleTap?(a.el.trigger("doubleTap"),a={}):d=setTimeout(function(){d=null;a.el.trigger("singleTap");a={}},250)},0))}).bind("touchcancel",j);e(window).bind("scroll",j)});"swipe,swipeLeft,swipeRight,swipeUp,swipeDown,doubleTap,tap,singleTap,longTap".split(",").forEach(function(a){e.fn[a]=function(c){return this.bind(a,c)}})})(Zepto);
