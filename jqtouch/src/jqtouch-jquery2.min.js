(function(b){var r;b(document).ready(function(){function k(b){var c=!1;if(!f){if(!b)b=window.event;b.which?c=3==b.which:b.button&&(c=2==b.button)}return c}var f="undefined"!=typeof Touch,s=f?"touchmove":"mousemove",t=f?"touchend":"mouseup",u=f?"touchcancel":"mouseout";b.jQTouch&&b.jQTouch.addExtension(function(b){r=b});b(document.body).bind("touchstart",function(f){console.warn("touch started");try{var c,d,n,o;if(!k(f)){c=b(f.target);elStartY=c.offset().top;elStartX=c.offset().left;var v,w,x,g,h,
l,i=!1,m=!1,e=!1,A=function(a){a.bind(s,y).bind(t,p);b.support.touch?a.bind(u,q):b(document).bind("mouseout",p)},j=function(a){a.unbind(s,y).unbind(t,p);b.support.touch?a.unbind(u,q):b(document).unbind("mouseout",q)},z=function(a){a=a.originalEvent;a=b.support.touch?a.changedTouches[0]:a;g=a.pageX-v;h=a.pageY-w;l=(new Date).getTime()-x;a=c.offset();n=a.left-elStartX;o=a.top-elStartY},y=function(a){z(a);if(e){var a=Math.abs(g),b=Math.abs(h);if(1<a||1<b)m=!0;5>=b&&0===n&&0===o?a>3*b&&10<a&&1E3>l?(e=
!1,d&&d.removeClass("active"),j(c),c.trigger("swipe",{direction:0>g?"left":"right",deltaX:g,deltaY:h})):b>3*a&&10<b&&1E3>l&&(e=!1,d&&d.removeClass("active"),j(c),c.trigger("swipe",{direction:0>h?"up":"down",deltaX:g,deltaY:h})):(e=!1,d&&d.removeClass("active"),j(c))}},p=function(a){z(a);var a=Math.abs(g),b=Math.abs(h);e=!1;j(c);!i&&1>=a&&1>=b&&0===n&&0===o?(i=!0,c.trigger("tap"),setTimeout(function(){d&&d.removeClass("active")},1E3)):d&&d.removeClass("active")},q=function(){e=!1;d&&d.removeClass("active");
j()},B=function(){timed=!0;i?(d.addClass("active"),setTimeout(function(){d.removeClass("active")},1E3)):e&&!m&&d.addClass("active")};(function(a){e=!0;i=!1;m=!1;timed=!1;a=a.originalEvent;v=b.support.touch?a.changedTouches[0].pageX:a.pageX;w=b.support.touch?a.changedTouches[0].pageY:a.pageY;x=(new Date).getTime();l=h=g=0;A(c);setTimeout(function(){d=c;for(var a=r.settings.selectors.join(", ");d.parent().is(a);)d=d.parent();B()},50);setTimeout(function(){c.trigger("touch")},50);setTimeout(function(){e&&
!i&&!m&&(i=!0,c.trigger("press"))},1E3)})(f)}}catch(C){console.error("tap error: "+C)}})});"swipe,swipeLeft,swipeRight,swipeUp,swipeDown,doubleTap,tap,singleTap,longTap".split(",").forEach(function(k){b.fn[k]=function(b){return this.bind(k,b)}})})($);
